<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Register Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-sky-50 min-h-screen flex items-center justify-center">
  <div class="bg-white rounded-lg shadow-lg p-8 w-full max-w-md">
    <h1 class="text-2xl font-bold text-sky-800 mb-4">Register Admin</h1>
    <div class="space-y-3">
      <input id="email" type="email" placeholder="Email" class="w-full p-3 border rounded-md focus:outline-sky-500" />
      <input id="password" type="password" placeholder="Password" class="w-full p-3 border rounded-md focus:outline-sky-500" />
      <button id="regBtn" class="w-full bg-emerald-600 text-white p-3 rounded-md hover:bg-emerald-700">Register</button>
      <div class="text-sm text-sky-600 text-center">
        Sudah punya akun? <a href="/admin.html" class="underline">Login</a>
      </div>
    </div>
  </div>

<script>
document.getElementById('regBtn').addEventListener('click', async () => {
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value.trim();
  if (!email || !password) return alert('Lengkapi email & password');

  try {
    const res = await fetch('/admin/register', {
      method: 'POST', headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, password })
    });
    const data = await res.json();
    if (!res.ok) return alert(data.message || 'Register gagal');
    alert('Register sukses. Silakan login.');
    window.location.href = '/admin.html';
  } catch (err) {
    console.error(err);
    alert('Server error');
  }
});
</script>
</body>
</html>
